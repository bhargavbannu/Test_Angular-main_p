<td align="left" *ngIf="edit && !ClosedRoute">
  <!-- CONTENT -->

  <input
    type="hidden"
    name="previousUrl"
    value="/vdt/Search.html?advancedSearchHidden=true&amp;currentVendorOnly=true&amp;vendorName=&amp;currentVendorOnly=on&amp;vendorPartRefNbr=&amp;detailDocType=&amp;itar=&amp;eccnNumber=&amp;eso=&amp;eco=&amp;ata=&amp;detailId=&amp;eccnLocation=&amp;docName=&amp;subject=&amp;bin=&amp;documentType=&amp;manualStartDate=&amp;manualEndDate=&amp;reissueStartDate=&amp;reissueEndDate=&amp;documentSubject="
    id="previousUrl"
  />
  
  <a *ngIf="searchType ==='search'" style="font-weight: bolder" routerLink="/search">Back To Search Results</a>
  <a *ngIf="searchType ==='audit'" style="font-weight: bolder" routerLink="/search-audits">Back To Search Results</a>
  <a *ngIf="searchType ==='route' " style="font-weight: bolder" routerLink="/search-routes">Back To Search Results</a>
  <br />

  <a routerLink="/viewDetail" (click)="btdetailpop()">Back to Detail/POP</a>
  <br /><br />
  <div style="float: left">
    <table cellspacing="0" cellpadding="0" border="0">
      <tbody>
        <tr>
          <td>
            <table
              class="eds-tabheader"
              cellspacing="0"
              cellpadding="0"
              border="0"
            >
              <tbody>
                <tr>
                  <td class="eds-tabtopleftcorner"></td>
                  <td class="eds-tabtopmiddle" align="center">
                    <div class="eds-tabtitle">View Route</div>
                  </td>
                  <td class="eds-tabtoprightcorner"></td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr>
          <td class="eds-tabtoprightcorner"></td>
        </tr>
        <tr>
          <td>
            <table
              cellspacing="0"
              cellpadding="0"
              width="100%"
              border="0"
              class="eds-tabtitle"
            >
              <tbody>
                <tr>
                  <td>
                    <form
                      name="RouteForm"
                      method="post"
                      action="/vdt/SaveRoute.html"
                    >
                      <table width="100%">
                        <tbody>
                          <tr style="height: 1px">
                            <td width="200"></td>
                            <td width="250"></td>
                          </tr>

                          <input
                            type="hidden"
                            name="route.detailId"
                            value="205687471"
                          />
                          <input
                            type="hidden"
                            name="route.detailRefNbr"
                            value="202500136"
                          />

                          <tr class="eds-pagerstyle readonly" style="">
                            <td align="right">Detail #&nbsp; &nbsp;</td>
                            <td align="left">
                              <span class="viewFieldText">{{
                                viewRoute?.route.detailRefNbr
                              }}</span>
                            </td>
                          </tr>

                          <input
                            type="hidden"
                            name="route.routeId"
                            value="5572070"
                          />

                          <tr class="eds-pagerstyle-alt readonly" style="">
                            <td align="right">Section *&nbsp; &nbsp;</td>
                            <td align="left">
                              <span class="viewFieldText">{{
                                viewRoute?.route.sectionForDisplay
                              }}</span>
                            </td>
                          </tr>

                          <tr class="eds-pagerstyle readonly" style="">
                            <td align="right">Routing&nbsp; &nbsp;</td>
                            <td align="left">
                              <span class="viewFieldText">{{
                                viewRoute?.route.routeType
                              }}</span>
                            </td>
                          </tr>

                          <tr class="eds-pagerstyle-alt readonly" style="">
                            <td align="right">Route Date *&nbsp; &nbsp;</td>
                            <td align="left">
                              <span class="viewFieldText">{{
                                viewRoute?.route.routeDate | date: 'yyyy/MM/dd'
                              }}</span>
                            </td>
                          </tr>

                          <tr class="eds-pagerstyle" style="">
                            <td align="right">Disposition&nbsp; &nbsp;</td>
                            <td align="left">
                              <span class="viewFieldText">{{
                                viewRoute?.route.disposition
                              }}</span>
                            </td>
                          </tr>

                          <tr class="eds-pagerstyle-alt" style="">
                            <td align="right">Close Date&nbsp; &nbsp;</td>
                            <td align="left">
                              <span class="viewFieldText">{{
                                viewRoute?.route.closedate | date: 'yyyy/MM/dd'
                              }}</span>
                            </td>
                          </tr>

                          <tr class="eds-pagerstyle" style="">
                            <td align="right">Remark&nbsp; &nbsp;</td>
                            <td align="left">
                              <span class="viewFieldText">{{
                                viewRoute?.route.remark
                              }}</span>
                            </td>
                          </tr>

                          <tr class="eds-pagerstyle-alt">
                            <td colspan="2">
                              <input
                                type="hidden"
                                name="submitType"
                                value="edit"
                              />
                              <span style="float: right">
                                <input
                                  type="button"
                                  value="Edit"
                                  (click)="routee()"
                                />
                              </span>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </form>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div style="float: right; margin-left: 5px">
    <table width="98%">
      <tbody>
        <tr>
          <td width="40%" valign="top">
            <table cellspacing="0" cellpadding="0" border="0">
              <tbody>
                <tr>
                  <td>
                    <table
                      class="eds-tabheader"
                      cellspacing="0"
                      cellpadding="0"
                      border="0"
                    >
                      <tbody>
                        <tr>
                          <td class="eds-tabtopleftcorner"></td>
                          <td class="eds-tabtopmiddle" align="center">
                            <div class="eds-tabtitle">ESO</div>
                          </td>
                          <td class="eds-tabtoprightcorner"></td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
                <tr>
                  <td class="eds-tabtoprightcorner"></td>
                </tr>
                <tr>
                  <td>
                    <table
                      cellspacing="0"
                      cellpadding="0"
                      width="100%"
                      border="0"
                      class="eds-tabtitle"
                    >
                    <tbody>
                               
                      <tr>
                        <td>
                        <table class="inline-table" id="eso">
                        <thead *ngIf="routeEsos && routeEsos.length > 0">
                          <tr >
                            <th>ESO #</th>
                            <th>Assign Date</th>
                            <th>Subject</th>
                            <th>Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="
                          let status of routeEsos;
                          let i = index
                        "
                        [ngClass]="
                          i % 2 == 0
                            ? 'eds-pagerstyle'
                            : 'eds-pagerstyle-alt'
                        ">
                            <td>{{status?.esoForDisplay}}</td>
                            <td>{{status?.assigndate | date:"MM/dd/yyyy"}}</td>
                            <td>{{status?.subject}}</td>
                            <td>
                              <a routerLink="/view-eso"
                                (click)="viewEso(status?.eso)">View</a
                              >
                            </td>
                          </tr>

                        </tbody>
                        </table>
                        </td>
                      </tr>
               
                </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr>
          <td width="40%" valign="top">
            <table cellspacing="0" cellpadding="0" border="0" style="margin-top: 50PX;">
              <tbody>
                <tr>
                  <td>
                    <table
                      class="eds-tabheader"
                      cellspacing="0"
                      cellpadding="0"
                      border="0"
                    >
                      <tbody>
                        <tr>
                          <td class="eds-tabtopleftcorner"></td>
                          <td class="eds-tabtopmiddle" align="center">
                            <div class="eds-tabtitle">ECO</div>
                          </td>
                          <td class="eds-tabtoprightcorner"></td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
                <tr>
                  <td class="eds-tabtoprightcorner"></td>
                </tr>
                <tr>
                  <td>
                    <table
                      cellspacing="0"
                      cellpadding="0"
                      width="100%"
                      border="0"
                      class="eds-tabtitle"
                    >
                      <tbody>
                        <tr>
                          <td>
                            <font color="#ffffff"
                              ><b>Nothing found to display</b></font
                            ><br /><br />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</td>

<div *ngIf="!edit || ClosedRoute">
  <td align="left">
    <a routerLink="/viewDetail" (click)="btdetailpop()">Back to Detail/POP</a>
    <br /><br />
    <div style="float: left">
      <table cellspacing="0" cellpadding="0" border="0">
        <tbody>
          <tr>
            <td>
              <table
                class="eds-tabheader"
                cellspacing="0"
                cellpadding="0"
                border="0"
              >
                <tbody>
                  <tr>
                    <td class="eds-tabtopleftcorner"></td>
                    <td class="eds-tabtopmiddle" align="center">
                      <div class="eds-tabtitle">Edit Route</div>
                    </td>
                    <td class="eds-tabtoprightcorner"></td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
          <tr>
            <td class="eds-tabtoprightcorner"></td>
          </tr>
          <tr>
            <td>
              <table
                cellspacing="0"
                cellpadding="0"
                width="100%"
                border="0"
                class="eds-tabtitle"
              >
                <tbody>
                  <tr>
                    <td>
                      <form
                        name="RouteForm"
                        method="post"
                        action="/vdt/SaveRoute.html"
                      >
                        <table width="100%">
                          <tbody>
                            <tr style="height: 1px">
                              <td width="200"></td>
                              <td width="250"></td>
                            </tr>

                            <input
                              type="hidden"
                              name="route.detailId"
                              value="205687471"
                            />
                            <input
                              type="hidden"
                              name="route.detailRefNbr"
                              value="202500136"
                            />

                            <tr class="eds-pagerstyle readonly" style="">
                              <td align="right">Detail #&nbsp; &nbsp;</td>
                              <td align="left">
                                <input
                                  type="text"
                                  name="route.detailRefNbr"
                                  class=""
                                  value=""
                                  [(ngModel)]="viewRoute?.route.detailRefNbr"
                                  readonly="readonly"
                                  size="45"
                                />
                              </td>
                            </tr>
                            <input
                              type="hidden"
                              name="route.routeId"
                              value="5572070"
                            />

                            <tr class="eds-pagerstyle-alt readonly" style="">
                              <td align="right">Section *&nbsp; &nbsp;</td>
                              <td align="left">
                                <input
                                  type="text"
                                  name="route.section"
                                  class=""
                                  [(ngModel)]="viewRoute?.route.sectionForDisplay"
                                  size="45"
                                  readonly="readonly"
                                />
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle readonly" style="">
                              <td align="right">Routing&nbsp; &nbsp;</td>
                              <td align="left">
                                <input
                                  type="text"
                                  name="route.routeType"
                                  class=""
                                 [(ngModel)]="viewRoute?.route.routeType"
                                  size="45"
                                  readonly="readonly"
                                />
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle-alt readonly" style="">
                              <td align="right">Route Date *&nbsp; &nbsp;</td>
                              <td align="left">
                                <input
                                  type="text"
                                  name="route.routeDate"
                                  class=""
                                  [(ngModel)]="viewRoute?.route.routeDate"
                                  size="41"
                                  readonly="readonly"
                                />
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle" style="">
                              <td align="right">Disposition&nbsp; &nbsp;</td>
                              <td align="left">
                                <input
                                  type="text"
                                  name="route.disposition"
                                  class=""
                                  id="dispositionId"
                                 [(ngModel)]="viewRoute?.route.disposition"
                                  size="45"
                                  maxlength="20"
                                  autocomplete="off"
                                  (ngModelChange)="onDispositionChange(viewRoute?.route.disposition)"
                                />
                                <div
                                *ngIf="dispositionValues.length > 0"
                                style="
                                  min-width: 256px;
                                  background: lightgray;
                                  position: absolute;
                                "
                              >
                                <div
                                  *ngFor="
                                    let val of dispositionValues
                                  "
                                  (click)="selectValue(val)"
                                >
                                  <span style="cursor: pointer">{{
                                    val
                                  }}</span>
                                </div>
                              </div>

                                <div
                                  id="dispositionId_choices"
                                  class="autoCompleteClass"
                                  style="display: none"
                                ></div>
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle-alt" style="">
                              <td align="right">Close Date&nbsp; &nbsp;</td>
                              <td align="left">
                                <input
                                  type="text"
                                  name="route.closedate"
                                  class=""
                                  id="closeDateId"
                                  [ngModel]="viewRoute?.route.closedate | date: 'MM/dd/yyyy'"
                                  size="41"
                                  autocomplete="off"
                                />

                                <span
                                  ><img
                                    onmouseover="this.style.cursor='hand'"
                                    id="closeDateId_date"
                                    align="ABSMIDDLE"
                                    src="assets/images/calendar.gif"
                                    (click)="calendar1.overlayVisible = !calendar1.overlayVisible; calendar1.inputfieldViewChild?.nativeElement.click()"
                                /></span>
                                <p-calendar name="calendarDate" #calendar1 [(ngModel)]="viewRoute?.route.closedate" [showIcon]="false"  [showOnFocus]="false" class="hidden-calendar"></p-calendar>

                                <script>
                                  setupCal("closeDateId");
                                </script>
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle" style="">
                              <td align="right">Remark&nbsp; &nbsp;</td>
                              <td align="left">
                                <textarea
                                  rows="4"
                                  cols="28"
                                  name="route.remark"
                                  [(ngModel)]="viewRoute?.route.remark"
                                  class=""
                                ></textarea>
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle-alt">
                              <td style="text-align: right">
                                ECO Numbers&nbsp; &nbsp;
                              </td>
                              <td>
                                <select
                                  name="route.ecos"
                                  class=""
                                  id="route.ecos_id"
                                  multiple="multiple"
                                  style="width: 120px"
                                  maxlength="20"
                                  [(ngModel)]="viewRoute?.route.ecos[0]"
                                >
                                <option>{{ viewRoute?.route.ecos[0] }}</option>
                              </select>

                                <br />

                                <input
                                  type="text"
                                  name="addInput_route.ecos_id"
                                  class=""
                                  id="addInput_route.ecos_id"
                                  value=""
                                  style="width: 120px"
                                  maxlength="20"
                                  autocomplete="off"
                                  (input)="ecoNumb()"
                                  [(ngModel)]="ecoNumber"
                                />

                                <div
                                  id="addInput_route.ecos_id_choices"
                                  class="autoCompleteClass"
                                  style="display: none"
                                ></div>

                                <input
                                  type="button"
                                  value="Add"
                                  (click)="addecoVal()"                                />
                                <input
                                  type="button"
                                  value="Remove"
                                  (click)="removeecoVal()" />
                                  <div
                                            style="
                                              min-width: 120px;
                                              background: lightgray;
                                              position: absolute;
                                            "
                                          >
                                            <div
                                              *ngFor="let doc of ecoRes"
                                              (click)="selectesoNum(doc)"
                                            >
                                              <span style="cursor: pointer">{{
                                                doc
                                              }}</span>
                                            </div>
                                          </div>
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle">
                              <td style="text-align: right">
                                ESO Numbers&nbsp; &nbsp;
                              </td>
                              <td>
                                <select
                                  name="route.esos"
                                  class=""
                                  id="route.esos_id"
                                  multiple="multiple"
                                  style="width: 120px"
                                  maxlength="20"
                                  [(ngModel)]="viewRoute?.route.esos[0]"
                                >
                                <option>
                                  {{ viewRoute?.route.esos[0] }}
                                </option>
                              </select>

                                <br />

                                <input
                                  type="text"
                                  name="addInput_route.esos_id"
                                  class=""
                                  id="addInput_route.esos_id"
                                  value=""
                                  style="width: 120px"
                                  maxlength="10"
                                  autocomplete="off"
                                  [(ngModel)]="typedEsoNumber"
                                  (input)="esoNumb()"
                                />

                                <div
                                  id="addInput_route.esos_id_choices"
                                  class="autoCompleteClass"
                                  style="display: none"
                                ></div>

                                <input
                                  type="button"
                                  value="Add"
                                  (click)="addEsoNum()"                                />
                                <input
                                  type="button"
                                  value="Remove"
                                  (click)="removeEso()"
                                  />
                                  <div
                                  style="
                                    min-width: 120px;
                                    background: lightgray;
                                    position: absolute;
                                  "
                                >
                                  <div
                                    *ngFor="let doc of esoNumberRess"
                                    (click)="selectesoNum1(doc)"
                                  >
                                    <span style="cursor: pointer">{{
                                      doc
                                    }}</span>
                                  </div>
                                </div>
                              </td>
                            </tr>

                            <tr class="eds-pagerstyle-alt">
                              <td colspan="2">
                                <span style="float: left">
                                  <input
                                    type="button"
                                    value="Delete"
                                    onclick="deleteRoute();"
                                  />
                                </span>

                                <input
                                  type="hidden"
                                  name="submitType"
                                  value="edit"
                                />
                                <span style="float: right">
                                  <input type="submit"  (click)="save()" />
                                  
                                </span>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </form>
                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </td>
</div>
